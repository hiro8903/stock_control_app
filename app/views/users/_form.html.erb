<%= form_with model: user do |form| %>
  <%= render 'shared/error_messages' %>

  <%= form.label :name, class: "form-label m-1" %><br>
  <%= form.text_field :name, class: "form-control my-1" %>

  <%= form.label :department_id, class: "form-label m-1" %>
  <% if @user.department_id.present? %>
        <%= form.collection_select :department_id, @departments, :id, :name, { include_blank: "選択してください", selected: @user.department_id }, class: 'form-control my-1'%>
      <% else %>
        <%= form.collection_select :department_id, @departments, :id, :name, { include_blank: "選択してください", selected:"" }, class: 'form-control my-1'%>
      <% end %>

  <%= form.label :password, class: "form-label m-1" %>
  <%= form.password_field :password, class: "form-control my-1" %>

  <%= form.label :password_confirmation, class: "form-label m-1" %>
  <%= form.password_field :password_confirmation, class: "form-control my-1" %>
  
  <div class="d-grid gap-2">
    <%= form.submit yield(:btn_text), class: "btn btn-primary" %>
  </div>
<% end %>
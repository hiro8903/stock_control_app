<%= form_with(model:[order,answer]) do |form| %>
  <%= form.label "塗料", class: "form-label m-1" %>
  <%= form.collection_select :order, @paints, :id, :name, { selected: answer.order.paint.id }, disabled: true, class: 'form-control my-1'%>

  <%= form.label :quantity, class: "form-label m-1" %><br>
  <% if params["action"] == "new" %>
    <%= form.number_field :quantity, min: "0.001", max: answers_helper_residual(answer).to_f, step: "0.001", value: answers_helper_residual(answer), class: "form-control my-1" %>
  <% else %>
    <%= form.number_field :quantity, min: "0.001", max: answers_helper_residual(answer).to_f, step: "0.001", class: "form-control my-1" %>
  <% end %>

  <%= form.label :scheduled_at, class: "form-label m-1" %>
  <% if answer.present? && answer.scheduled_at.present? %>
    <%= form.date_field :scheduled_at, value: answer.scheduled_at.to_date, class: 'form-control my-1'%>
  <% else %>
    <%= form.date_field :scheduled_at, value: answer.order.desired_on.to_date, class: 'form-control my-1'%>
  <% end %>

  <div class="d-grid gap-2">
    <%= form.submit yield(:btn_text), class: "btn btn-primary" %>
  </div>
<% end %>
<div class="row justify-content-center text-center">
  <div class="col-12">
    <h1><%= "#{@first_day.strftime("%Y年%m月")} 在庫" %></h1>
    <%= link_to "⇦ 前月へ", stocks_path(date: @first_day.prev_month), class: "btn btn-info" %>
    <%= link_to "今月へ", stocks_path(date: @day.beginning_of_month), class: "btn btn-warning" %>
    <%= link_to "次月へ ⇨", stocks_path(date: @first_day.next_month), class: "btn btn-info" %>

    <h5 class="text-end">*単位：kg</h5>
    <table id ="fav-table" class="table my-3">
      <thead>
        <tr>
          <th scope="col"><%= AllInventory.human_attribute_name("paint_id") %></th>
          <th scope="col">在庫</th>
          <th scope="col">月初在庫</th>
          <th scope="col">納入量</th>
          <th scope="col">使用量</th>
        </tr>
      </thead>
      <tbody>
        <% if @beginning_stocks.present? %>
          <% @paints.each do |paint| %>
            <tr class="align-middle">
            <td><%= paint.name %></td>
            <% if beginning_stocks(paint).present? && beginning_stocks(paint).paint == paint %>
              <%# stock(paint)の計算用 %>
                <% beginning_stocks(paint).quantity  %>
                <% monthly_arrivals_quantity(paint).present? ? monthly_arrivals_quantity(paint) : "-" %>
                <% monthly_withdraws_quantity(paint).present? ? monthly_withdraws_quantity(paint) : "-" %>
              <%# stock(paint)の計算用 ここまで %>
              <td><%= stock(paint).present? ? stock(paint) : "-" %></td>
              <td><%= beginning_stocks(paint).quantity  %></td>
              <td><%= monthly_arrivals_quantity(paint).present? ? monthly_arrivals_quantity(paint) : "-" %></td>
              <td><%= monthly_withdraws_quantity(paint).present? ? monthly_withdraws_quantity(paint) : "-" %></td>

              <% else %>
              <td>-</td>
              <td>-</td>
            <% end %>
          <% end %>
        <% else %>
          <tr>
            <td colspan="2"><%= @first_day <= Date.current ? "棚卸登録されていません" : "本日より先の棚卸は登録できません。" %></td>
          </tr>
        <% end %>
      </tbody>
    <table>
  </div>
</div>